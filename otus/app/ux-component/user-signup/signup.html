<md-content id="user-login-page" layout="column" flex>
  <md-toolbar flex="30" id="divtop" class="md-tall md-primary">
    <h2 class="system-name">
      <span class="md-display-1">Cadastro</span>
    </h2>
  </md-toolbar>
  <md-content flex layout="row" layout-align="center start" ng-if="!$ctrl.recovery">
    <md-card class="card" layout-padding flex="55">
      <div layout="row" layout-align="center start">
        <div flex="20"></div>
        <img class="logotype" src="app/static-resource/image/OtusImg.png" flex="40">
        <div flex></div>
      </div>
      <div layout="column" flex></div>
      <form name="$ctrl.signupForm" class="content" novalidate>
        <md-input-container class="md-block" flex>
          <label>Nome</label>
          <input name="name" ng-model="user.name" type="text" ng-required="true" />

          <div ng-messages="$ctrl.signupForm.name.$error">
            <div ng-message="required">Obrigatório</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block">
          <label>Sobrenome</label>
          <input name="surname" ng-model="user.surname" type="text" ng-required="true" />

          <div ng-messages="s$ctrl.signupForm.surname.$error">
            <div ng-message="required">Obrigatório</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block">
          <md-icon md-font-set="material-icons">phone</md-icon>
          <input aria-label="Telefone" name="phone" id="phonenumber" ng-model="user.phone" type="text" ui-options={clearOnBlur:false} ui-mask="(99) 99999999?9" ng-required="true" />

          <div ng-messages="$ctrl.signupForm.phone.$error">
            <div ng-message="required">Obrigatório</div>
            <div ng-message="mask">Insira um número válido.</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block">
          <md-icon md-font-set="material-icons">email</md-icon>
          <input aria-label="aria-label" ng-change="$ctrl.resetEmailValidation()" name="email" ng-model="user.email" type="email" unique ng-required="true">

          <div ng-messages="$ctrl.signupForm.email.$error">
            <div ng-message="required">Obrigatório</div>
            <div ng-message="emailInUse">E-mail já em uso.</div>
            <div ng-message="email">Insira um e-mail válido.</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block">
          <label>Senha</label>
          <input name="password" ng-model="user.password" type="password" ng-required="true">

          <div ng-messages="$ctrl.signupForm.password.$error">
            <div ng-message="required" ng-show="$ctrl.signupForm.password.$error.required">Obrigatório</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block">
          <label>Confirmação de Senha</label>
          <input name="passwordConfirmation" ng-model="user.passwordConfirmation" st-password-match="user.password" type="password" ng-required="true" />

          <div ng-messages="$ctrl.signupForm.passwordConfirmation.$error">
            <div ng-message="required" ng-show="$ctrl.signupForm.passwordConfirmation.$error.required">
              Obrigatório
            </div>
            <div ng-message="passwordMatch">Suas senhas não coincidem.</div>
          </div>
        </md-input-container>
        </div>
        <md-button class="md-raised md-accent" type="submit" ng-disabled="$ctrl.signupForm.$invalid || $ctrl.isWaiting" ng-click="$ctrl.signup(user)">Cadastrar</md-button>
        <md-button class="md-raised md-accent" ng-click="$ctrl.back()">Voltar</md-button>
        <div layout-align="center">
          <md-progress-circular md-mode="indeterminate" ng-show="$ctrl.isWaiting"></md-progress-circular>
        </div>
      </form>
      </div>
    </md-card>
  </md-content>
</md-content>