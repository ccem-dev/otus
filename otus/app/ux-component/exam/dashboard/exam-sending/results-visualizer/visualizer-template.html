<div ui-view layout="column" ng-if="$ctrl.fileStructure">
  <otus-result-visualizer-manager-toolbar action="$ctrl.action" dynamic-data-table-change="$ctrl.updateDataTable()" build-dynamic-table-settings="$ctrl.buildDynamicTableSettings()" error-aliquots="$ctrl.errorAliquots" sending-exam="$ctrl.sendingExam"></otus-result-visualizer-manager-toolbar>
  <md-content layout="column">
    <md-card flex style="min-height: 150px">
      <md-card-title flex>
        <md-card-title-text>
          <span class="md-headline">Informações relacionadas ao arquivo que será enviado</span>
        </md-card-title-text>
      </md-card-title>
      <md-card-content flex>
        <div layout="row" flex>
          <div layout="column" flex>
            <div layout="row">
              <li>Data do envio: {{$ctrl.formattedDate}}</li>
            </div>
            <div layout="row">
              <li>Nome do arquivo: {{$ctrl.sendingExam.examResultLot.fileName}}</li>
            </div>
            <div layout="row">
              <li>Centro de realização: {{$ctrl.sendingExam.examResultLot.fieldCenter.acronym}}</li>
            </div>
          </div>
          <div layout="column" flex>
            <div layout="row">
              <li>Quantidade de resultados: {{$ctrl.sendingExam.examResultLot.resultsQuantity}}</li>
            </div>
            <div layout="row">
              <li>Operador: {{$ctrl.sendingExam.examResultLot.operator}}</li>
            </div>
          </div>
        </div>
      </md-card-content>
    </md-card>
    <md-divider></md-divider>
    <dynamic-data-table flex
                        dynamic-table-settings="$ctrl.dynamicTableSettings"
                        table-update-function="$ctrl.updateDataTable"
                        elements-error-array="$ctrl.errorAliquots"
                        >
    </dynamic-data-table>
  </md-content>
</div>
<div layout="column" layout-align="center center">
  <img src="app/static-resource/image/otus-crash.png" ng-if="!$ctrl.fileStructure" flex>
</div>
