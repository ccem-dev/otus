<div ui-view layout="column">
  <otus-result-visualizer-manager-toolbar action="$ctrl.action" sending-exam="$ctrl.sendingExam"></otus-result-visualizer-manager-toolbar>
  <md-content layout="column">
    <md-card flex style="min-height: 150px">
      <md-card-title flex>
        <md-card-title-text>
          <span class="md-headline">Informações relacionadas ao arquivo que será enviado</span>
        </md-card-title-text>
      </md-card-title>
      <md-card-content flex>
        <div layout="row" flex>
          <div layout="column" flex>
            <div layout="row">
              <li>Data do envio: {{$ctrl.formattedDate}}</li>
            </div>
            <div layout="row">
              <li>Nome do arquivo: {{$ctrl.sendingExam.examResultLot.fileName}}</li>
            </div>
            <div layout="row">
              <li>Centro de realização: {{$ctrl.sendingExam.examResultLot.fieldCenter.acronym}}</li>
            </div>
          </div>
          <div layout="column" flex>
            <div layout="row">
              <li>Quantidade de resultados: {{$ctrl.sendingExam.examResultLot.resultsQuantity}}</li>
            </div>
            <div layout="row">
              <li>Operador: {{$ctrl.sendingExam.examResultLot.operator}}</li>
            </div>
          </div>
        </div>
      </md-card-content>
    </md-card>
    <md-divider></md-divider>
    <dynamic-data-table flex
                        headers="['Codigo da aliquota', 'Nome do exame', 'Nome do resultado', 'Valor do resultado', 'Data de realização']"
                        elements-array="$ctrl.sendingExam.examResults"
                        elements-properties="['aliquotCode', 'examName', 'resultName', 'value', 'releaseDate']"
                        callback-after-change="$ctrl.dynamicDataTableChange"
                        table-update-function="$ctrl.updateDataTable"
                        order-indices="[0, 1, 2, 3, 4, 5]"
                        number-fields-aligned-left="10"
                        flex-array="[20, 20, 20, 20, 20]"
                        format-data=""
                        format-data-properties-array="['releaseDate']"
                        disable-filter="true"
                        disable-pagination="true"
                        disable-checkbox="true">
    </dynamic-data-table>
  </md-content>
</div>
