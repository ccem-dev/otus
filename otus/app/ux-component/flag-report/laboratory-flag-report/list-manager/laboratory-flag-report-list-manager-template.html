<div layout="column" flex>
  <otus-dashboard-sidenav layout="row">
    <hide-participant-box></hide-participant-box>
  </otus-dashboard-sidenav>
  <otus-dashboard-toolbar layout="row">
    <div flex layout-gt-md="row" layout="column" layout-align="center center" layout-margin>
      <span layout-align="center center">Monitoramento laboratorial</span>
    </div>
  </otus-dashboard-toolbar>
  <md-content layout="column" layout-padding flex>
    <link href="app/static-resource/stylesheet/heatmap.css" rel="stylesheet" />
    <br>
    <otus-laboratory-flag-report-filter-component centers="$ctrl.centers" exams-status="$ctrl.status" exams-name-list="$ctrl.examsNameList"
      on-update="$ctrl.updateData"></otus-laboratory-flag-report-filter-component>
    <div ng-if="$ctrl.ready" layout="row" layout-align="center center">
      <md-button ng-disabled="!$ctrl.examsData.data.length" class="md-accent md-raised" ng-click="$ctrl.downloadCSV()">EXPORTAR
        <md-icon>get_app</md-icon>
        <md-tooltip md-direction="down">O Relatório será exportado considerando os filtros aplicados e os dados da
          tela.
        </md-tooltip>
      </md-button>
      <span flex></span>
      <div flex="70" layout-align="end center">
        <otus-paginator flex flex-gt-md="35" elements="$ctrl.rawExams.data" on-update="$ctrl.updatePage" ng-if="$ctrl.ready"></otus-paginator>
      </div>
    </div>
    <md-divider></md-divider>
    <md-content flex layout="row">
      <md-content id="exam-heatmap" ng-show="$ctrl.examsData.data.length" ng-if="$ctrl.ready" layout="column" flex></md-content>
      <div ng-if="$ctrl.error" layout="row" flex layout-align="center center" style="height: 400px; width: 400px; margin-left: auto; margin-right: auto;">
        <div class="label-light-gray">
          <h3 class="md-headline">{{$ctrl.message}}</h3>
        </div>
      </div>
    </md-content>
  </md-content>
</div>