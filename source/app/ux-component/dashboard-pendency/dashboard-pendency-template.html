<style>
  .full-list-items{
    min-width: 90vw;
  }

  .header-list {
    background-color: #009588;
    font-weight: bold;
    color: #FFFFFF !important;
    min-height: 70px !important;
    max-height: 70px !important;
  }

  .warning-card {
    -moz-transform: rotate(30deg);
    border-width: 1px;
    border-style: solid;
    border-radius: 5px;
    border-color: #ffffff;
    padding-left: 8px;
    padding-right: 8px;
    min-width: 60px;
  }
</style>

<md-card layout="column" class="full-list-items no-border">
  <md-card-content class="no-padding">

    <md-card-header flex layout-align="start center" class="md-primary header-list" ng-style="{color: '#f77a7a'}">
      <md-card-header-text>
        <span class="md-header" layout-padding>PENDÊNCIAS DE ATIVIDADE</span>
      </md-card-header-text>

      <!--      warning red box-->
      <div ng-hide="!$ctrl.existOpenedUserActivityPendencies"
               layout="row"
               class="warning-card" ng-style="{'background-color': '#ff0000'}"
               layout-align="center center">
        <md-icon style="font-size:30px;height:30px;width:30px;" ng-style="{color: 'yellow'}">warning</md-icon>
        <span ng-style="{color: 'yellow'}" flex> {{ $ctrl.openedUserActivityPendencies.length }}</span>
      </div>
    </md-card-header>

    <div ng-hide="$ctrl.existOpenedUserActivityPendencies" >Você não possui pendências de atividade.</div>

    <md-grid-list md-cols="4"  md-cols-xs="1" md-cols-sm="3" md-cols-md="4" md-cols-xl="6" md-cols-lg="4" md-cols-gt-md="4"
                  md-row-height-gt-md="1:0.5" md-row-height-sm="{{$ctrl.displayGridSmall()}}" md-row-height-md="1:1"  md-row-height-lg="{{$ctrl.displayGridLarge()}}"
                  md-row-height="1:0.9"  md-row-height-xs="1:0.6" md-gutter-gt-md="10px" md-gutter="12px" md-gutter-sm="6px" md-row-height-xl="1:0.8" >

      <md-grid-tile ng-hide="!$ctrl.existOpenedUserActivityPendencies"
                    class="md-whiteframe-1dp" ng-repeat="item in $ctrl.openedUserActivityPendencies">
        <md-grid-tile-header>
          <div layout="row" layout-align="space-between center">
            <div layout="row">
              <md-icon class="md-avatar-icon" ng-style="{color: '#00897b'}" md-font-library="material-icons" layout-align="end end">
                {{item.activityInfo.lastStatus.icon}}
                <md-tooltip md-direction="top">
                  {{item.activityInfo.lastStatus.tooltip}}
                </md-tooltip>
              </md-icon>
            </div>
            <span class="md-caption" ng-style="{color:'#797985'}">
                <small class="md-body-2" ng-style="{color:'black'}">{{ item.activityInfo.acronym }}</small></span>
            <div flex="10"></div>
          </div>
          <md-divider></md-divider>
        </md-grid-tile-header>
        <div layout="column">
          <div layout="row">
            <span class="md-caption" ng-style="{color:'#797985'}">
                <small class="md-body-2 clipped" ng-style="{color:'black'}">{{ item.activityInfo.name }}</small></span>
          </div>

          <div class="md-list-item-text" layout="column" layout-xs="column" layout-sm="column" layout-md="column">
            <span class="md-caption" ng-style="{color:'#797985'}">Pendente desde:
                <small class="md-body-2" ng-style="{color:'black'}">{{ item.creationDate }} ({{ item.timePending }})</small>
              </span>
            <span class="md-caption" ng-style="{color:'#797985'}">Nº recrutamento:
                <small class="md-body-2"  ng-style="{color:'black'}">{{ item.activityInfo.recruitmentNumber }}</small>
              </span>
            <div ng-show="(item.activityInfo.externalID.length>0)">
              <span class="md-caption" ng-style="{color:'#797985'}">ID externo:
                <small class="md-body-2" ng-style="{color:'black'}">{{ item.activityInfo.externalID }}</small>
              </span>
            </div>
          </div>
        </div>
        <md-grid-tile-footer layout="row" layout-align="center center">
          <md-button class="md-grid-item-content md-raised md-accent md-icon-button" ng-click="$ctrl.loadActivities(item.activityInfo.recruitmentNumber)" ng-disabled="!$ctrl.participantManagerReady">

            <md-icon md-svg-icon="file-document-box"  material-iconslayout-align="end end">
              <md-tooltip md-direction="top">
                Atividades
              </md-tooltip>
            </md-icon>
          </md-button>

          <md-button class="md-grid-item-content md-raised md-accent md-icon-button"  ng-click="$ctrl.loadActivityPlayer(item.activityInfo.recruitmentNumber, item.activityId)" ng-disabled="!$ctrl.participantManagerReady">
            <md-icon md-svg-icon="clipboard-check" layout-align="end end">
              <md-tooltip md-direction="top">
                Preencher Atividade
              </md-tooltip>
            </md-icon>
          </md-button>

          <md-button  class="md-grid-item-content md-raised md-accent md-icon-button" ng-click="$ctrl.loadActivityViewer(item.activityInfo.recruitmentNumber, item.activityId)" ng-disabled="!$ctrl.participantManagerReady">
            <md-icon md-font-library="material-icons" layout-align="end end">playlist_add_check
              <md-tooltip md-direction="top">
                Visualizar Ativiadade
              </md-tooltip>
            </md-icon>
          </md-button>
        </md-grid-tile-footer>
      </md-grid-tile>
    </md-grid-list>

  </md-card-content>
</md-card>