<md-grid-tile-header ng-style="{background: '#5ba499'}">
    <div layout="row" layout-align="space-between center">
        <div layout="row">
            <md-icon md-font-library="material-icons" md-svg-icon="{{$ctrl.getModeIcon()}}"
                     ng-style="{color: 'white'}"></md-icon>
            <h3 ng-style="{color: '#FFFFFF'}">{{$ctrl.activityDto.surveyForm.acronym}}</h3>
        </div>
        <div>
            <md-button class="md-icon-button">
                <md-icon md-font-set="material-icons" ng-click="$ctrl.deleteActivityDto()" style="color:white">delete
                </md-icon>
                </md-icon>
                <md-tooltip md-direction="top">
                    Remover
                </md-tooltip>
            </md-button>
        </div>
    </div>
</md-grid-tile-header>

<div class="grid-aligh" layout="column" layout-align="space-between stretch">
    <div layout="column">
        <div layout="column" layout-align="start start">
            <span class="md-body-2" layout-fill md-truncate>{{$ctrl.activityDto.surveyForm.name}}</span>
            <span class="md-caption" ng-style="{color:'#797985'}">Categoria: <small class="md-body-2"
                                                                                    ng-style="{color:'black'}">{{$ctrl.activityDto.configuration.category.label}}</small></span>
        </div>
    </div>
    <div layout="column" layout-align="start start" ng-if="$ctrl.activityDto.mode === 'PAPER'">
        <form name="checkerForm">
            <small class="md-caption" ng-style="{color:'#797985'}">Informações do preenchimento obrigatório.</small>
            <md-input-container id="date">
                <label ng-show="$ctrl.realizationDate">Data de Realização</label>
                <input aria-label="Data de Nascimento" class="md-input" date="true" disable-parent-scroll="true" name="realizationDate"
                       format="DD/MM/YYYY" id="datetime" max-date="$ctrl.maxDate"
                       mdc-datetime-picker="" ng-change="$ctrl.onFilter()" ng-model="$ctrl.realizationDate"
                       placeholder="Data de Realização" readonly="readonly"
                       show-icon="true" time="false" type="text" required>
                <div ng-messages="checkerForm.realizationDate.$error">
                    <div ng-message="required">Informe uma data!</div>
                </div>


            </md-input-container>
            <md-autocomplete md-item-text="item.text"
                             md-items="item in $ctrl.checkerQuerySearch($ctrl.checkerSearchText)"
                             md-menu-class="autocomplete-custom-template"
                             md-min-length="0"
                             md-no-cache="true"
                             md-search-text="$ctrl.checkerSearchText"
                             md-search-text-change="$ctrl.checkerSearchTextChange($ctrl.checkerSearchText)"
                             md-selected-item="$ctrl.checkerSelectedItem"
                             md-selected-item-change="$ctrl.checkerSelectedItemChange(item, activityDto)"
                             placeholder="Aferidor (a)" style="width: 90%">
                <md-item-template>
                    <span class="item-title">
                        <md-icon md-svg-icon="account"></md-icon>
                        <span md-highlight-flags="i" md-highlight-text="$ctrl.checkerSearchText">{{ item.title }}</span>
                    </span>
                    <span class="item-metadata">
                        <span class="item-metastat">E-mail: <strong>{{ item.metastat.email }}</strong></span>
                    </span>
                </md-item-template>
                <md-not-found>
                    Nenhum resultado para "{{ $ctrl.checkerSearchText }}" foi encontrado.
                </md-not-found>
            </md-autocomplete>
        </form>
    </div>


    <div layout="column" ng-if="$ctrl.activityDto.mode === 'ONLINE'">
        <small class="md-caption" ng-style="{color:'#797985'}">Informações do Usuário.</small>
        <span class="md-caption" ng-style="{color:'#797985'}">Nome: <small class="md-body-2" ng-style="{color:'black'}">{{$ctrl.activityDto.user.surname}}</small></span>
        <span class="md-caption" ng-style="{color:'#797985'}">Email: <small class="md-body-2"
                                                                            ng-style="{color:'black'}">{{$ctrl.activityDto.user.email}}</small></span>
    </div>
    <div style="padding-top: 5px">
        <form name="externalIdForm" novalidate>
            <md-input-container ng-if="$ctrl.activityDto.surveyForm.isRequiredExternalID()">
                <label>ID Externo</label>
                <input ng-model="$ctrl.activityDto.externalID" placeholder="Preenchimento Obrigatório" required>
                <div ng-messages="externalIdForm.$error">
                    <div ng-message="required">Dado Inválido!</div>
                </div>
            </md-input-container>
            <md-input-container ng-if="!$ctrl.activityDto.surveyForm.isRequiredExternalID()">
                <small ng-style="{color:'#9e9e9e'}">ID Externo não requerido *</small>
            </md-input-container>
        </form>
    </div>
</div>
<md-tooltip md-direction="top">
    {{$ctrl.activityDto.surveyForm.name}}
</md-tooltip>