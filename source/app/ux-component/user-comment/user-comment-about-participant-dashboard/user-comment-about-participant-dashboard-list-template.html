<div class="layout-uc">
  <div layout="row" layout-align="start center">
    <md-label class="md-subhead">
      Principais Comentários
    </md-label>
    <md-button class="md-accent viewAll" ng-show="$ctrl.items.length > 0" aria-label="Ver Todos"
      ng-click="$ctrl.viewPlusUserCommentAboutParticipant()"> VER TODOS
    </md-button>
    <md-button class="md-accent viewAll" ng-show="$ctrl.items.length == 0" aria-label="Adicionar"
      ng-click="$ctrl.addUserCommentAboutParticipant()"> ADICIONAR
    </md-button>
  </div>
  <div class="comment-list-null" ng-show="$ctrl.items.length == 0">
    <span class="comment-null md-headline" layout="row" layout-align="center center">
      Não há comentários adicionados.
    </span>
  </div>
  <md-list class="comment-list-layout" ng-repeat="item in $ctrl.items track by $id(item)">
    <div class="comment-name" layout="row" layout-align="start center">
      <p class="ng-binding md-body-2 margin-line" md-truncate>{{item.userName}}</p>
    </div>
    <div class="comment-status" layout="row" ng-show="item.edited" layout-align="center center">
      <p class="md-caption margin-line" ng-style="{ color: '#797985' }">Editado</p>
      <md-tooltip md-direction="top">
        Comentário foi editado
      </md-tooltip>
    </div>
    <div class="comment-date" layout="row" layout-align-gt-sm="center center">
      <p class="md-caption ng-binding margin-line" ng-bind-html="$ctrl.getFormattedDate(item.creationDate)"></p>
      <md-tooltip md-direction="top">
        Data de realização
      </md-tooltip>
    </div>
    <div class="comment-text" ng-click="$ctrl.viewUserCommentAboutParticipant(item)" layout="row" layout-align="start center">
      <p class="md-body-1 margin-line ellipsis">{{item.comment}}</p>
    </div>
    <div class="comment-button" layout="row" layout-align="center center">
      <md-button ng-click="$ctrl.showStarSelectedUserCommentAboutParticipant(item)">
        <md-tooltip md-direction="top">Favorito</md-tooltip>
        <md-icon layout="row" layout-align="center center" ng-style="$ctrl.colorStar(item.starred)"
          class="md-default-theme material-icons icon-size" aria-label="star"
          ng-bind-html="$ctrl.iconStar(item.starred)"></md-icon>
      </md-button>
    </div>
    <md-menu class="comment-button-menu" layout="row" layout-align="center center">
      <md-button ng-show="item.isCreator" aria-label="Menu"
        ng-click="$ctrl.openMenu($mdMenu, $event)">
        <md-tooltip md-direction="top">Menu</md-tooltip>
        <md-icon layout="row" layout-align="center center" md-font-set="material-icons" aria-label="Menu">more_vert
        </md-icon>
      </md-button>
      <md-menu-content width="2">
        <md-menu-item>
          <md-button class="md-accent" ng-show="item.isCreator" aria-label="Editar"
            ng-click="$ctrl.updateUserCommentAboutParticipant(item)">
            Editar
          </md-button>
        </md-menu-item>
        <md-menu-item>
          <md-button class="md-warn" ng-show="item.isCreator" aria-label="Excluir"
            ng-click="$ctrl.deleteSelectedComment(item._id)">
            Excluir
          </md-button>
        </md-menu-item>
      </md-menu-content>
    </md-menu>
  </md-list>
</div>
