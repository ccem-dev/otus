<style>
  .plf-layout {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: .1fr 1fr 1fr;
    grid-template-areas: "toolbar toolbar toolbar" "item    item    item" "item    item    item"
  }

  .item-filter {
    grid-area: item;
  }

  .toolbar {
    grid-area: toolbar;
    background: #00907e;
    color: #ffffff;
  }

  #participantSearchAutoCompleteId {
    background-color: #ffffff;
  }

  input{
    text-transform: uppercase;
  }

</style>

<md-card class="plf-layout" layout-margin>
  <span class="toolbar" layout-padding>FILTROS</span>
  <div ng-repeat="item in $ctrl.pendencyAttributes" layout-align="start center">
    <div class="item-filter">
        <span ng-if="!$ctrl.inputViewState[item.title]">

          <md-button layout-fill class="md-raised"
                     aria-label={{item.translatedTitle}}
                     ng-click="$ctrl.chanceInputViewState(item)">
            <md-icon>{{item.icon}}
             <md-tooltip md-direction="right">{{item.translatedTitle}}</md-tooltip>
           </md-icon>
          </md-button>
        </span>

      <span ng-if="$ctrl.inputViewState[item.title] && item.title === 'rn'" layout="row">
        <md-icon>{{item.icon}}
                <md-tooltip md-direction="bottom">{{item.translatedTitle}}</md-tooltip>
        </md-icon>
        <otus-participant-search flex
                                 on-select="$ctrl.selectParticipant(participant)"
                                 pendency-filter-item="item"
                                 search-settings="$ctrl.searchSettings"
                                 show-participants-button="false"
                                 on-ready="true">
        </otus-participant-search>
        <md-icon ng-click="$ctrl.clear(item)">replay</md-icon>


      </span>
      <span ng-if="$ctrl.inputViewState[item.title] && item.title === 'requester'" layout="row">
         <md-icon>{{item.icon}}
                <md-tooltip md-direction="bottom">{{item.translatedTitle}}</md-tooltip>
        </md-icon>
        <otus-checker-search flex
                             pendency-filter-item="item"
                             search-settings="$ctrl.searchSettings"
                             placeholder-title="{{item.translatedTitle}}">
        </otus-checker-search>
        <md-icon ng-click="$ctrl.clear(item)">replay</md-icon>
      </span>
      <span ng-if="$ctrl.inputViewState[item.title] && item.title === 'receiver'" layout="row">
         <md-icon>{{item.icon}}
                <md-tooltip md-direction="bottom">{{item.translatedTitle}}</md-tooltip>
        </md-icon>
        <otus-checker-search flex
                             pendency-filter-item="item"
                             search-settings="$ctrl.searchSettings"
                             placeholder-title="{{item.translatedTitle}}">
        </otus-checker-search>
        <md-icon ng-click="$ctrl.clear(item)">replay</md-icon>
      </span>

      <span ng-if="$ctrl.inputViewState[item.title] && (item.title === 'acronym')"  layout="row">
                        <md-input-container flex>
                          <md-icon>{{item.icon}}
                                <md-tooltip md-direction="bottom">{{item.translatedTitle}}</md-tooltip>
                          </md-icon>
                          <input ng-model="$ctrl.searchSettings.filter[item.title]"
                                 ng-change="$ctrl.searchSettings.filter[item.title] = $ctrl.searchSettings.filter[item.title].toUpperCase()"
                                 aria-label={{item.translatedTitle}} required>
                          <md-icon ng-click="$ctrl.clear(item)">replay</md-icon>
                        </md-input-container>
      </span>
      <span ng-if="$ctrl.inputViewState[item.title] && (item.title === 'externalID')"  layout="row">
                        <md-input-container flex>
                          <md-icon>{{item.icon}}
                                <md-tooltip md-direction="bottom">{{item.translatedTitle}}</md-tooltip>
                          </md-icon>
                          <input ng-model="$ctrl.searchSettings.filter[item.title]"
                                 aria-label={{item.translatedTitle}} required>
                          <md-icon ng-click="$ctrl.clear(item)">replay</md-icon>
                        </md-input-container>
      </span>
      <span ng-if="$ctrl.inputViewState[item.title] && (item.title === 'dueDate')"  layout="row">
                          <md-icon>{{item.icon}}
                                <md-tooltip md-direction="bottom">{{item.translatedTitle}}</md-tooltip>
                          </md-icon>
                          <md-datepicker layout-fill ng-model="$ctrl.searchSettings.filter[item.title]"
                                         md-placeholder="DD/MM/AAAA"
                                         aria-label={{item.translatedTitle}}>
                          </md-datepicker>
                          <md-icon ng-click="$ctrl.clear(item)">replay</md-icon>

      </span>

    </div>
  </div>
</md-card>