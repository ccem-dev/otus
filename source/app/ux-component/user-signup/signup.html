<md-content id="user-login-page" layout="column" flex>
  <md-toolbar flex="30" id="divtop" class="md-tall md-primary" layout-padding layout="row" layout-align="start center">
    <span flex-gt-sm="30" flex-sm="10"></span>
    <h2 class="system-name">
      <span class="md-display-1">Cadastro</span>
    </h2>
  </md-toolbar>
  <md-content flex layout="row" layout-align="center start" ng-if="!$ctrl.recovery">
    <md-card class="card" layout-padding flex-gt-sm="45" flex="80">
      <div layout="row" layout-align="center start">
        <div flex-gt-sm="25" flex-sm="15"></div>
        <img class="logotype" src="static-resource/image/OtusImg.png" flex="80" flex-gt-sm="40">
        <div flex></div>
      </div>
      <div layout="column" flex></div>
      <form name="$ctrl.signupForm" class="content" novalidate flex="" layout-fill layout-align="start start" layout="row">
        <div layout="column" flex>
          <div  layout-fill layout="column" flex-offset="10">
            <div layout="row" flex>
              <span flex-gt-sm="20" flex-sm="10"></span>
              <md-input-container flex flex-gt-sm="60" style="margin: 0 !important;">
                <label>Nome</label>
                <input name="name" ng-model="user.name" type="text" ng-required="true" />

                <div ng-messages="$ctrl.signupForm.name.$error">
                  <div ng-message="required">Obrigatório</div>
                </div>
              </md-input-container>
              <span flex-gt-sm="20" flex-sm="10"></span>
            </div>
            <div layout="row" flex>
              <span flex-gt-sm="20" flex-sm="10"></span>
              <md-input-container flex flex-gt-sm="60" style="margin: 0 !important;">
                <label>Sobrenome</label>
                <input name="surname" ng-model="user.surname" type="text" ng-required="true" />

                <div ng-messages="s$ctrl.signupForm.surname.$error">
                  <div ng-message="required">Obrigatório</div>
                </div>
              </md-input-container>
              <span flex-gt-sm="20" flex-sm="10"></span>
            </div>
            <div layout="row" flex>
              <span flex-gt-sm="20" flex-sm="10"></span>
              <md-input-container flex flex-gt-sm="60" style="margin: 0 !important;">
                <md-icon md-font-set="material-icons">phone</md-icon>
                <input aria-label="Telefone" name="phone" id="phonenumber" ng-model="user.phone" type="text" ui-options={clearOnBlur:false} ui-mask="(99) 99999999?9" ng-required="true" />

                <div ng-messages="$ctrl.signupForm.phone.$error">
                  <div ng-message="required">Obrigatório</div>
                  <div ng-message="mask">Insira um número válido.</div>
                </div>
              </md-input-container>
              <span flex-gt-sm="20" flex-sm="10"></span>
            </div>

            <div layout="row" flex>
              <span flex-gt-sm="20" flex-sm="10"></span>
              <md-input-container flex flex-gt-sm="60" style="margin: 0 !important;">
                <md-icon md-font-set="material-icons">email</md-icon>
                <input aria-label="aria-label" ng-change="$ctrl.resetEmailValidation()" name="email" ng-model="user.email" type="email" unique ng-required="true">

                <div ng-messages="$ctrl.signupForm.email.$error">
                  <div ng-message="required">Obrigatório</div>
                  <div ng-message="emailInUse">E-mail já em uso.</div>
                  <div ng-message="email">Insira um e-mail válido.</div>
                </div>
              </md-input-container>
              <span flex-gt-sm="20" flex-sm="10"></span>
            </div>
            <div layout="row" flex>
              <span flex-gt-sm="20" flex-sm="10"></span>
              <md-input-container flex flex-gt-sm="60" style="margin: 0 !important;">
                <label>Senha</label>
                <input name="password" ng-model="user.password" type="password" ng-required="true">

                <div ng-messages="$ctrl.signupForm.password.$error">
                  <div ng-message="required" ng-show="$ctrl.signupForm.password.$error.required">Obrigatório</div>
                </div>
              </md-input-container>
              <span flex-gt-sm="20" flex-sm="10"></span>
            </div>

            <div layout="row" flex>
              <span flex-gt-sm="20" flex-sm="10"></span>
              <md-input-container flex flex-gt-sm="60" style="margin: 0 !important;">
                <label>Confirmação de Senha</label>
                <input name="passwordConfirmation" ng-model="user.passwordConfirmation" st-password-match="user.password" type="password" ng-required="true" />

                <div ng-messages="$ctrl.signupForm.passwordConfirmation.$error">
                  <div ng-message="required" ng-show="$ctrl.signupForm.passwordConfirmation.$error.required">
                    Obrigatório
                  </div>
                  <div ng-message="passwordMatch">Suas senhas não coincidem.</div>
                </div>
              </md-input-container>
              <span flex-gt-sm="20" flex-sm="10"></span>
            </div>
          </div>
          <span show-gt-sm="30" hide style="margin-top:30px"></span>
          <div flex="40" layout-fill layout="column"  layout-margin=""  layout-gt-sm="row">
            <md-button class="md-raised md-accent" type="submit" ng-disabled="$ctrl.signupForm.$invalid || $ctrl.isWaiting" ng-click="$ctrl.signup(user)">Cadastrar</md-button>
            <md-button class="md-raised md-accent" ng-click="$ctrl.back()">Voltar</md-button>
            <div layout-align="center">
              <md-progress-circular md-mode="indeterminate" ng-show="$ctrl.isWaiting"></md-progress-circular>
            </div>
          </div>
        </div>
      </form>
    </md-card>
</md-content>
